{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap b29ee1d2ab0e9d822942","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///./src/constants.js","webpack:///./src/features/common.js","webpack:///external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack:///./node_modules/transformation-matrix/build-umd/transformation-matrix.min.js","webpack:///./src/features/zoom.js","webpack:///./src/features/pan.js","webpack:///./src/features/miniature.js","webpack:///./src/events/viewer-event.js","webpack:///./src/features/interactions.js","webpack:///./src/utils/calculateBox.js","webpack:///./src/ui-toolbar/toolbar.jsx","webpack:///./src/ui-miniature/miniature.jsx","webpack:///./src/index.js","webpack:///./src/viewer.js","webpack:///./src/events/event-factory.js","webpack:///./src/events/viewer-mouse-event.js","webpack:///./src/events/viewer-touch-event.js","webpack:///./src/utils/mapRange.js","webpack:///./src/features/interactions-touch.js","webpack:///./src/ui/cursor-polyfill.js","webpack:///./src/ui/border-gradient.js","webpack:///./src/ui/selection.jsx","webpack:///./src/ui-toolbar/icon-cursor.jsx","webpack:///./src/ui-toolbar/icon-pan.jsx","webpack:///./src/ui-toolbar/icon-zoom-in.jsx","webpack:///./src/ui-toolbar/icon-zoom-out.jsx","webpack:///./src/ui-toolbar/icon-fit.jsx","webpack:///./src/ui-toolbar/toolbar-button.jsx","webpack:///./src/ui/detect-touch.js","webpack:///./src/ui-miniature/miniature-toggle-button.jsx","webpack:///./src/ui-miniature/icon-arrow.jsx","webpack:///./src/ui-miniature/miniature-mask.jsx"],"names":["MODE_IDLE","MODE_PANNING","MODE_ZOOMING","TOOL_AUTO","TOOL_NONE","TOOL_PAN","TOOL_ZOOM_IN","TOOL_ZOOM_OUT","POSITION_NONE","POSITION_TOP","POSITION_RIGHT","POSITION_BOTTOM","POSITION_LEFT","getDefaultValue","viewerWidth","viewerHeight","SVGWidth","SVGHeight","set","identity","version","mode","focus","pinchPointDistance","prePinchMode","startX","startY","endX","endY","miniatureOpen","value","change","Object","assign","freeze","isValueValid","hasOwnProperty","getSVGPoint","viewerX","viewerY","matrix","fromObject","inverseMatrix","inverse","applyToPoint","x","y","decompose","scaleFactor","a","translationX","e","translationY","f","setFocus","setViewerSize","setSVGSize","setPointOnViewerCenter","SVGPointX","SVGPointY","zoomLevel","transform","translate","scale","reset","resetMode","zoom","fitSelection","selectionSVGPointX","selectionSVGPointY","selectionWidth","selectionHeight","scaleX","scaleY","scaleLevel","Math","min","fitToViewer","zoomOnViewerCenter","SVGPoint","startZooming","updateZooming","Error","stopZooming","start","end","abs","box","calculateBox","width","height","pan","SVGDeltaX","SVGDeltaY","panLimit","undefined","applyToPoints","x1","y1","x2","y2","moveX","moveY","startPanning","updatePanning","deltaX","deltaY","nextValue","stopPanning","autoPanIfNeeded","d","openMiniature","closeMiniature","ViewerEvent","originalEvent","SVGViewer","preventDefault","stopPropagation","_cacheDecomposedValue","onMouseDown","event","ViewerDOM","tool","props","coords","getBoundingClientRect","left","top","clientX","round","clientY","onMouseMove","forceExit","buttons","preventPanOutside","onMouseUp","onDoubleClick","disableDoubleClickZoomWithToolAuto","modifierKeysReducer","current","modifierKey","getModifierState","modifierKeyActive","modifierKeys","reduce","onWheel","detectWheel","delta","max","mapRange","onMouseEnterOrLeave","type","onInterval","indexOf","detectAutoPan","Toolbar","onChangeValue","onChangeTool","position","handleChangeTool","handleFit","isHorizontal","style","right","bottom","backgroundColor","borderRadius","display","flexDirection","padding","propTypes","PropTypes","oneOf","isRequired","string","object","func","Miniature","children","background","SVGBackground","miniatureWidth","miniatureHeight","ratio","zoomToFit","overflow","outline","transition","centerTranslation","pointerEvents","number","Viewer","msg","console","error","ReactSVGPanZoom","context","state","nextProps","getValue","needUpdate","setValue","cursor","detectPinchGesture","getTool","touchAction","setState","target","eventsHandler","click","onClick","dblclick","mousemove","mouseup","mousedown","touchstart","onTouchStart","touchmove","onTouchMove","touchend","onTouchEnd","touchcancel","onTouchCancel","onEventHandler","eventFactory","autoPanTimer","setInterval","clearTimeout","CustomToolbar","customToolbar","CustomMiniature","customMiniature","panningWithToolAuto","cursorPolyfill","blockChildEvents","className","getSvgStyle","handleViewerEvent","detectTouch","toSVG","toolbarPosition","changeTool","miniaturePosition","miniatureBackground","React","Component","shape","bool","b","c","array","oneOfType","element","propName","componentName","prop","types","Children","count","join","defaultProps","disableZoomWithToolAuto","eventType","ViewerMouseEvent","_cachePoint","rect","point","ViewerTouchEvent","_cachePoints","touchesToPoints","touches","_cacheChangedPoints","changedTouches","points","i","length","touch","push","identifier","low1","high1","low2","high2","hasPinchPointDistance","onMultiTouch","sqrt","pow","previousPointDistance","svgPoint","distanceFactor","cancelable","isMultiTouch","shouldResetPinchPointDistance","getTouchPosition","getNextValue","nextValueFn","touchPosition","needPrefix","userAgent","navigator","toLowerCase","isFirefox","isWebkit","BorderGradient","direction","stroke","fill","mask","Selection","IconCursor","IconPan","IconZoomIn","IconZoomOut","IconFit","ToolbarButton","hover","margin","color","active","border","title","name","isTouchDevice","window","maxTouchPoints","MiniatureToggleButton","action","IconArrow","open","MiniatureMask","opacity"],"mappings":"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","file":"react-svg-pan-zoom.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactSVGPanZoom\"] = factory(require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"ReactSVGPanZoom\"] = factory(root[\"React\"], root[\"PropTypes\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b29ee1d2ab0e9d822942","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 0\n// module chunks = 0","export const MODE_IDLE = 'idle';\nexport const MODE_PANNING = 'panning';\nexport const MODE_ZOOMING = 'zooming';\n\nexport const TOOL_AUTO = 'auto';\nexport const TOOL_NONE = 'none';\nexport const TOOL_PAN = 'pan';\nexport const TOOL_ZOOM_IN = 'zoom-in';\nexport const TOOL_ZOOM_OUT = 'zoom-out';\n\nexport const POSITION_NONE = 'none';\nexport const POSITION_TOP = 'top';\nexport const POSITION_RIGHT = 'right';\nexport const POSITION_BOTTOM = 'bottom';\nexport const POSITION_LEFT = 'left';\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js","import {TOOL_NONE, MODE_IDLE} from '../constants';\nimport {\n  identity,\n  fromObject,\n  inverse,\n  applyToPoint,\n  transform,\n  translate,\n  scale\n} from 'transformation-matrix';\n\n/**\n * Obtain default value\n * @returns {Object}\n */\nexport function getDefaultValue(viewerWidth, viewerHeight, SVGWidth, SVGHeight) {\n  return set({}, {\n    ...identity(),\n    version: 2,\n    mode: MODE_IDLE,\n    focus: false,\n    pinchPointDistance: null,\n    prePinchMode: null,\n    viewerWidth,\n    viewerHeight,\n    SVGWidth,\n    SVGHeight,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    miniatureOpen: true\n  });\n}\n\n/**\n * Change value\n * @param value\n * @param change\n * @returns {Object}\n */\nexport function set(value, change) {\n  value = Object.assign({}, value, change);\n  return Object.freeze(value);\n}\n\n/**\n * value valid check\n * @param value\n */\nexport function isValueValid(value) {\n  return value !== null\n    && typeof value === 'object'\n    && value.hasOwnProperty('version');\n}\n\n/**\n * Export x,y coords relative to SVG\n * @param value\n * @param viewerX\n * @param viewerY\n * @returns {*|{x, y}|{x: number, y: number}}\n */\nexport function getSVGPoint(value, viewerX, viewerY) {\n  let matrix = fromObject(value);\n\n  let inverseMatrix = inverse(matrix);\n  return applyToPoint(inverseMatrix, {x: viewerX, y: viewerY});\n}\n\n/**\n * Decompose matrix from value\n * @param value\n * @returns {{scaleFactor: number, translationX: number, translationY: number}}\n */\nexport function decompose(value) {\n  let matrix = fromObject(value);\n\n  return {\n    scaleFactor: matrix.a,\n    translationX: matrix.e,\n    translationY: matrix.f\n  }\n}\n\n/**\n *\n * @param value\n * @param focus\n * @returns {Object}\n */\nexport function setFocus(value, focus) {\n  return set(value, {focus});\n}\n\n\n/**\n *\n * @param value\n * @param viewerWidth\n * @param viewerHeight\n * @returns {Object}\n */\nexport function setViewerSize(value, viewerWidth, viewerHeight) {\n  return set(value, {viewerWidth, viewerHeight});\n}\n\n/**\n *\n * @param value\n * @param SVGWidth\n * @param SVGHeight\n * @returns {Object}\n */\nexport function setSVGSize(value, SVGWidth, SVGHeight) {\n  return set(value, {SVGWidth, SVGHeight});\n}\n\n/**\n *\n * @param value\n * @param SVGPointX\n * @param SVGPointY\n * @param zoomLevel\n * @returns {Object}\n */\nexport function setPointOnViewerCenter(value, SVGPointX, SVGPointY, zoomLevel) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let matrix = transform(\n    translate(-SVGPointX + viewerWidth / 2, -SVGPointY + viewerHeight / 2),   //4\n    translate(SVGPointX, SVGPointY),                                          //3\n    scale(zoomLevel, zoomLevel),                                              //2\n    translate(-SVGPointX, -SVGPointY)                                         //1\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function reset(value) {\n  return set(value, {\n    mode: MODE_IDLE,\n    ...identity()\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function resetMode(value) {\n  return set(value, {\n    mode: MODE_IDLE,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/features/common.js","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}\n// module id = 3\n// module chunks = 0","!function(r,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.TransformationMatrix=t():r.TransformationMatrix=t()}(this,function(){return function(r){function t(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return r[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=r,t.c=n,t.d=function(r,n,e){t.o(r,n)||Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:e})},t.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(n,\"a\",n),n},t.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},t.p=\"\",t(t.s=0)}([function(r,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var e=n(1);n.d(t,\"applyToPoint\",function(){return e.a}),n.d(t,\"applyToPoints\",function(){return e.b});var o=n(2);n.d(t,\"fromObject\",function(){return o.a});var a=n(3);n.d(t,\"fromString\",function(){return a.a});var u=n(4);n.d(t,\"identity\",function(){return u.a});var c=n(5);n.d(t,\"inverse\",function(){return c.a});var i=n(6);n.d(t,\"isAffineMatrix\",function(){return i.a});var f=n(7);n.d(t,\"rotate\",function(){return f.a}),n.d(t,\"rotateDEG\",function(){return f.b});var s=n(8);n.d(t,\"scale\",function(){return s.a});var d=n(9);n.d(t,\"shear\",function(){return d.a});var p=n(10);n.d(t,\"toCSS\",function(){return p.a}),n.d(t,\"toSVG\",function(){return p.b}),n.d(t,\"toString\",function(){return p.c});var l=n(11);n.d(t,\"transform\",function(){return l.a});var y=n(12);n.d(t,\"translate\",function(){return y.a})},function(r,t,n){\"use strict\";function e(r,t){return{x:r.a*t.x+r.c*t.y+r.e,y:r.b*t.x+r.d*t.y+r.f}}function o(r,t){return t.map(function(t){return e(r,t)})}t.a=e,t.b=o},function(r,t,n){\"use strict\";function e(r){return{a:parseFloat(r.a),b:parseFloat(r.b),c:parseFloat(r.c),d:parseFloat(r.d),e:parseFloat(r.e),f:parseFloat(r.f)}}t.a=e},function(r,t,n){\"use strict\";function e(r){var t=r.match(o);if(null===t||t.length<7)throw new Error(\"'\"+r+\"' is not a matrix\");return{a:parseFloat(t[1]),b:parseFloat(t[2]),c:parseFloat(t[3]),d:parseFloat(t[4]),e:parseFloat(t[5]),f:parseFloat(t[6])}}t.a=e;var o=/^matrix\\( *([0-9]*\\.?[0-9]+) *, *([0-9]*\\.?[0-9]+) *, *([0-9]*\\.?[0-9]+) *, *([0-9]*\\.?[0-9]+) *, *([0-9]*\\.?[0-9]+) *, *([0-9]*\\.?[0-9]+) *\\)$/i},function(r,t,n){\"use strict\";function e(){return{a:1,c:0,e:0,b:0,d:1,f:0}}t.a=e},function(r,t,n){\"use strict\";function e(r){var t=r.a,n=r.b,e=r.c,o=r.d,a=r.e,u=r.f,c=t*o-n*e;return{a:o/c,b:n/-c,c:e/-c,d:t/c,e:(o*a-e*u)/-c,f:(n*a-t*u)/c}}t.a=e},function(r,t,n){\"use strict\";function e(r){var t=function(r){return\"number\"==typeof r&&!isNaN(r)&&isFinite(r)};return\"object\"===(void 0===r?\"undefined\":o(r))&&r.hasOwnProperty(\"a\")&&t(r.a)&&r.hasOwnProperty(\"b\")&&t(r.b)&&r.hasOwnProperty(\"c\")&&t(r.c)&&r.hasOwnProperty(\"d\")&&t(r.d)&&r.hasOwnProperty(\"e\")&&t(r.e)&&r.hasOwnProperty(\"f\")&&t(r.f)}t.a=e;var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&\"function\"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?\"symbol\":typeof r}},function(r,t,n){\"use strict\";function e(r){var t=a(r),n=u(r);return{a:t,c:-n,e:0,b:n,d:t,f:0}}function o(r){return e(r*c/180)}t.a=e,t.b=o;var a=Math.cos,u=Math.sin,c=Math.PI},function(r,t,n){\"use strict\";function e(r,t){return{a:r,c:0,e:0,b:0,d:t,f:0}}t.a=e},function(r,t,n){\"use strict\";function e(r,t){return{a:1,c:r,e:0,b:t,d:1,f:0}}t.a=e},function(r,t,n){\"use strict\";function e(r){return a(r)}function o(r){return a(r)}function a(r){return\"matrix(\"+r.a+\",\"+r.b+\",\"+r.c+\",\"+r.d+\",\"+r.e+\",\"+r.f+\")\"}t.a=e,t.b=o,t.c=a},function(r,t,n){\"use strict\";function e(r){if(Array.isArray(r)){for(var t=0,n=Array(r.length);t<r.length;t++)n[t]=r[t];return n}return Array.from(r)}function o(r){return Array.isArray(r)?r:Array.from(r)}function a(){for(var r=arguments.length,t=Array(r),n=0;n<r;n++)t[n]=arguments[n];t=Array.isArray(t[0])?t[0]:t;var u=function(r,t){return{a:r.a*t.a+r.c*t.b,c:r.a*t.c+r.c*t.d,e:r.a*t.e+r.c*t.f+r.e,b:r.b*t.a+r.d*t.b,d:r.b*t.c+r.d*t.d,f:r.b*t.e+r.d*t.f+r.f}};switch(t.length){case 0:throw new Error(\"no matrices provided\");case 1:return t[0];case 2:return u(t[0],t[1]);default:var c=t,i=o(c),f=i[0],s=i[1],d=i.slice(2),p=u(f,s);return a.apply(void 0,[p].concat(e(d)))}}t.a=a},function(r,t,n){\"use strict\";function e(r,t){return{a:1,c:0,e:r,b:0,d:1,f:t}}t.a=e}])});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/transformation-matrix/build-umd/transformation-matrix.min.js\n// module id = 4\n// module chunks = 0","import {transform, fromObject, translate, scale} from 'transformation-matrix';\n\nimport {MODE_IDLE, MODE_ZOOMING} from '../constants';\nimport {set, getSVGPoint} from './common';\nimport calculateBox from '../utils/calculateBox';\n\nexport function zoom(value, SVGPointX, SVGPointY, scaleFactor) {\n\n  let matrix = transform(\n    fromObject(value),\n    translate(SVGPointX, SVGPointY),\n    scale(scaleFactor, scaleFactor),\n    translate(-SVGPointX, -SVGPointY)\n  )\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  });\n}\n\nexport function fitSelection(value, selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let scaleX = viewerWidth / selectionWidth;\n  let scaleY = viewerHeight / selectionHeight;\n\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  let matrix = transform(\n    scale(scaleLevel, scaleLevel),                      //2\n    translate(-selectionSVGPointX, -selectionSVGPointY) //1\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  });\n}\n\nexport function fitToViewer(value) {\n  return fitSelection(value, 0, 0, value.SVGWidth, value.SVGHeight);\n}\n\nexport function zoomOnViewerCenter(value, scaleFactor) {\n  let {viewerWidth, viewerHeight} = value;\n  let SVGPoint = getSVGPoint(value, viewerWidth / 2, viewerHeight / 2);\n  return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n}\n\nexport function startZooming(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_ZOOMING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function updateZooming(value, viewerX, viewerY) {\n  if (value.mode !== MODE_ZOOMING) throw new Error('update selection not allowed in this mode ' + value.mode);\n\n  return set(value, {\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function stopZooming(value, viewerX, viewerY, scaleFactor) {\n  let {startX, startY, endX, endY} = value;\n\n  let start = getSVGPoint(value, startX, startY);\n  let end = getSVGPoint(value, endX, endY);\n\n  if (Math.abs(startX - endX) > 7 && Math.abs(startY - endY) > 7) {\n    let box = calculateBox(start, end);\n    return fitSelection(value, box.x, box.y, box.width, box.height);\n  } else {\n    let SVGPoint = getSVGPoint(value, viewerX, viewerY);\n    return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/features/zoom.js","import {MODE_IDLE, MODE_PANNING} from '../constants';\nimport {set, getSVGPoint} from './common';\nimport {fromObject, translate, transform, applyToPoints, inverse} from 'transformation-matrix';\n\n/**\n *\n * @param value\n * @param SVGDeltaX\n * @param SVGDeltaY\n * @param panLimit\n * @returns {Object}\n */\nexport function pan(value, SVGDeltaX, SVGDeltaY, panLimit = undefined) {\n\n  let matrix = transform(\n    fromObject(value),              //2\n    translate(SVGDeltaX, SVGDeltaY) //1\n  );\n\n  // apply pan limits\n  if (panLimit) {\n    let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(matrix, [\n      {x: panLimit, y: panLimit},\n      {x: value.SVGWidth - panLimit, y: value.SVGHeight - panLimit}\n    ]);\n\n    //x limit\n    let moveX = 0;\n    if (value.viewerWidth - x1 < 0)\n      moveX = value.viewerWidth - x1;\n    else if (x2 < 0) moveX = -x2;\n\n\n    //y limit\n    let moveY = 0;\n    if (value.viewerHeight - y1 < 0)\n      moveY = value.viewerHeight - y1;\n    else if (y2 < 0) moveY = -y2;\n\n    //apply limits\n    matrix = transform(\n      translate(moveX, moveY),\n      matrix\n    )\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  });\n}\n\nexport function startPanning(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_PANNING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function updatePanning(value, viewerX, viewerY, panLimit) {\n  if (value.mode !== MODE_PANNING) throw new Error('update pan not allowed in this mode ' + value.mode);\n\n  let {endX, endY} = value;\n\n  let start = getSVGPoint(value, endX, endY);\n  let end = getSVGPoint(value, viewerX, viewerY);\n\n  let deltaX = end.x - start.x;\n  let deltaY = end.y - start.y;\n\n  let nextValue = pan(value, deltaX, deltaY, panLimit);\n  return set(nextValue, {\n    mode: MODE_PANNING,\n    endX: viewerX,\n    endY: viewerY,\n  });\n}\n\nexport function stopPanning(value) {\n  return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    }\n  );\n}\n\nexport function autoPanIfNeeded(value, viewerX, viewerY) {\n  let deltaX = 0;\n  let deltaY = 0;\n\n  if (viewerY <= 20) deltaY = 20;\n  if (value.viewerWidth - viewerX <= 20) deltaX = -20;\n  if (value.viewerHeight - viewerY <= 20) deltaY = -20;\n  if (viewerX <= 20) deltaX = 20;\n\n  deltaX = deltaX / value.d;\n  deltaY = deltaY / value.d;\n\n  return (deltaX === 0 && deltaY === 0) ? value : pan(value, deltaX, deltaY);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/features/pan.js","import {set} from './common';\n\n\nexport function openMiniature(value) {\n  return set(value, {\n    miniatureOpen: true\n  });\n}\n\nexport function closeMiniature(value) {\n  return set(value, {\n    miniatureOpen: false\n  });\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/features/miniature.js","import {decompose} from '../features/common'\n\nexport default class ViewerEvent {\n  constructor(originalEvent, value, SVGViewer) {\n    this.originalEvent = originalEvent;\n    this.value = value;\n    this.SVGViewer = SVGViewer;\n  }\n\n  get scaleFactor() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.scaleFactor;\n  }\n\n  get translationX() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationX;\n  }\n\n  get translationY() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationY;\n  }\n\n  preventDefault(){\n    this.originalEvent.preventDefault();\n  }\n\n  stopPropagation(){\n    this.originalEvent.stopPropagation();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/events/viewer-event.js","import {\n  TOOL_AUTO,\n  TOOL_NONE,\n  TOOL_PAN,\n  TOOL_ZOOM_IN,\n  TOOL_ZOOM_OUT,\n  MODE_PANNING,\n  MODE_ZOOMING,\n  MODE_IDLE\n} from '../constants';\nimport {setFocus, setViewerCoords, getSVGPoint} from './common';\nimport {startPanning, updatePanning, stopPanning, autoPanIfNeeded} from './pan';\nimport {startZooming, updateZooming, stopZooming, zoom} from './zoom';\nimport mapRange from '../utils/mapRange';\n\n\nexport function onMouseDown(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      let SVGPoint = getSVGPoint(value, x, y);\n      nextValue = zoom(value, SVGPoint.x, SVGPoint.y, 1 / props.scaleFactor);\n      break;\n\n    case TOOL_ZOOM_IN:\n      nextValue = startZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      nextValue = startPanning(value, x, y);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseMove(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  let forceExit = (event.buttons === 0); //the mouse exited and reentered into svg\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = forceExit ? stopZooming(value, x, y, props.scaleFactor) : updateZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = forceExit ? stopPanning(value) : updatePanning(value, x, y, props.preventPanOutside ? 20 : undefined);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseUp(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, 1 / props.scaleFactor);\n      break;\n\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, props.scaleFactor);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = stopPanning(value, x, y);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onDoubleClick(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_AUTO:\n      if (!props.disableDoubleClickZoomWithToolAuto) {\n        let SVGPoint = getSVGPoint(value, x, y);\n        let modifierKeysReducer = (current, modifierKey) => current || event.getModifierState(modifierKey);\n        let modifierKeyActive = props.modifierKeys.reduce(modifierKeysReducer, false);\n        let scaleFactor = modifierKeyActive ? 1 / props.scaleFactor : props.scaleFactor;\n        nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n      }\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onWheel(event, ViewerDOM, tool, value, props, coords = null) {\n  let x, y;\n  if (coords) {\n    ({x, y} = coords);\n  } else {\n    let {left, top} = ViewerDOM.getBoundingClientRect();\n    x = event.clientX - Math.round(left);\n    y = event.clientY - Math.round(top);\n  }\n\n  if (!props.detectWheel) return value;\n\n  let delta = Math.max(-1, Math.min(1, event.deltaY));\n  let scaleFactor = mapRange(delta, -1, 1, 1.06, 0.96);\n\n  let SVGPoint = getSVGPoint(value, x, y);\n  let nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseEnterOrLeave(event, ViewerDOM, tool, value, props, coords = null) {\n  let nextValue = setFocus(value, event.type === 'mouseenter');\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onInterval(event, ViewerDOM, tool, value, props, coords = null) {\n  let {x, y} = coords;\n\n  if (! ([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0) ) return value;\n  if (!props.detectAutoPan) return value;\n  if (!value.focus) return value;\n\n  return autoPanIfNeeded(value, x, y);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/features/interactions.js","export default function calculateBox(start, end) {\n  if (start.x <= end.x && start.y <= end.y) {\n    return {\n      x: start.x,\n      y: start.y,\n      width: end.x - start.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y <= end.y) {\n    return {\n      x: end.x,\n      y: start.y,\n      width: start.x - end.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y >= end.y) {\n    return {\n      x: end.x,\n      y: end.y,\n      width: start.x - end.x,\n      height: start.y - end.y\n    };\n  } else if (start.x <= end.x && start.y >= end.y) {\n    return {\n      x: start.x,\n      y: end.y,\n      width: end.x - start.x,\n      height: start.y - end.y\n    };\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/calculateBox.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT,\n} from '../constants';\n\nimport {fitToViewer} from '../features/zoom';\nimport IconCursor from './icon-cursor';\nimport IconPan from './icon-pan';\nimport IconZoomIn from './icon-zoom-in';\nimport IconZoomOut from './icon-zoom-out';\nimport IconFit from './icon-fit';\nimport ToolbarButton from './toolbar-button';\n\nexport default function Toolbar({tool, value, onChangeValue, onChangeTool, position}) {\n\n  let handleChangeTool = (event, tool) => {\n    onChangeTool(tool);\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let handleFit = event => {\n    onChangeValue(fitToViewer(value));\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let isHorizontal = [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0;\n\n  let style = {\n    //position\n    position: \"absolute\",\n    transform: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"translate(-50%, 0px)\" : \"none\",\n    top: [POSITION_LEFT, POSITION_RIGHT, POSITION_TOP].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    left: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"50%\" : (POSITION_LEFT === position ? \"5px\" : \"unset\"),\n    right: [POSITION_RIGHT].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    bottom: [POSITION_BOTTOM].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n\n    //inner styling\n    backgroundColor: \"rgba(19, 20, 22, 0.90)\",\n    borderRadius: \"2px\",\n    display: \"flex\",\n    flexDirection: isHorizontal ? \"row\" : \"column\",\n    padding: isHorizontal ? \"1px 2px\" : \"2px 1px\"\n  };\n\n  return (\n    <div style={style} role=\"toolbar\">\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_NONE}\n        name=\"unselect-tools\"\n        title=\"Selection\"\n        onClick={ event => handleChangeTool(event, TOOL_NONE) }>\n        <IconCursor/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_PAN}\n        name=\"select-tool-pan\"\n        title=\"Pan\"\n        onClick={ event => handleChangeTool(event, TOOL_PAN) }>\n        <IconPan/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_IN}\n        name=\"select-tool-zoom-in\"\n        title=\"Zoom in\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_IN) }>\n        <IconZoomIn/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_OUT}\n        name=\"select-tool-zoom-out\"\n        title=\"Zoom out\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_OUT) }>\n        <IconZoomOut/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={false}\n        name=\"fit-to-viewer\"\n        title=\"Fit to viewer\"\n        onClick={ event => handleFit(event) }>\n        <IconFit/>\n      </ToolbarButton>\n    </div>\n  )\n}\n\nToolbar.propTypes = {\n  position: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]).isRequired,\n  tool: PropTypes.string.isRequired,\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  onChangeTool: PropTypes.func.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui-toolbar/toolbar.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  POSITION_RIGHT, POSITION_LEFT,\n} from '../constants';\nimport {applyToPoints, inverse} from 'transformation-matrix';\nimport MiniatureToggleButton from './miniature-toggle-button';\nimport MiniatureMask from './miniature-mask';\n\nconst {min, max} = Math;\n\nexport default function Miniature(props) {\n\n  let {value, onChangeValue, position, children, background, SVGBackground, width: miniatureWidth, height: miniatureHeight} = props;\n  let {SVGWidth, SVGHeight, viewerWidth, viewerHeight} = value;\n\n  let ratio = SVGHeight / SVGWidth;\n\n  let zoomToFit = ratio >= 1\n    ? miniatureHeight / SVGHeight\n    : miniatureWidth / SVGWidth;\n\n  let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(inverse(value), [\n    {x: 0, y: 0},\n    {x: viewerWidth, y: viewerHeight}\n  ]);\n\n  let width, height;\n  if (value.miniatureOpen) {\n    width = miniatureWidth;\n    height = miniatureHeight;\n  } else {\n    width = 24;\n    height = 24;\n  }\n\n  let style = {\n    position: \"absolute\",\n    overflow: \"hidden\",\n    outline: \"1px solid rgba(19, 20, 22, 0.90)\",\n    transition: \"width 200ms ease, height 200ms ease, bottom 200ms ease\",\n    width: width + \"px\",\n    height: height + \"px\",\n    bottom: \"6px\",\n    [position === POSITION_LEFT ? 'left' : 'right']: \"6px\",\n    background\n  };\n\n  let centerTranslation = ratio >= 1\n    ? `translate(${(miniatureWidth - (SVGWidth * zoomToFit)) / 2 }, 0)`\n    : `translate(0, ${(miniatureHeight - (SVGHeight * zoomToFit)) / 2 })`;\n\n  return (\n    <div role=\"navigation\" style={style}>\n      <svg\n        width={miniatureWidth}\n        height={miniatureHeight}\n        style={{pointerEvents: \"none\"}}>\n        <g transform={centerTranslation}>\n          <g transform={`scale(${zoomToFit}, ${zoomToFit})`}>\n\n            <rect\n              fill={SVGBackground}\n              x={0}\n              y={0}\n              width={value.SVGWidth}\n              height={value.SVGHeight}/>\n\n            {children}\n\n            <MiniatureMask\n              SVGWidth={SVGWidth}\n              SVGHeight={SVGHeight}\n              x1={x1}\n              y1={y1}\n              x2={x2}\n              y2={y2}\n              zoomToFit={zoomToFit}\n            />\n\n          </g>\n        </g>\n      </svg>\n      <MiniatureToggleButton value={value} onChangeValue={onChangeValue} position={position}/>\n    </div>\n  )\n}\n\nMiniature.propTypes = {\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  background: PropTypes.string.isRequired,\n  SVGBackground: PropTypes.string.isRequired,\n  width: PropTypes.number.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui-miniature/miniature.jsx","export {default as ReactSVGPanZoom} from './viewer';\nexport {default as Toolbar} from './ui-toolbar/toolbar';\nexport {default as Miniature} from './ui-miniature/miniature';\nexport {setPointOnViewerCenter, reset} from './features/common';\nexport {pan} from './features/pan';\nexport {zoom, fitSelection, fitToViewer, zoomOnViewerCenter} from './features/zoom';\nexport {openMiniature, closeMiniature} from './features/miniature'\nexport * from './constants';\n\nexport const Viewer = () => {\n  let msg = \"HEY! You are trying to use an older version of ReactSVGPanZoom. \"\n    + \"Read here https://github.com/chrvadala/react-svg-pan-zoom/blob/master/docs/migrate-from-v1-to-v2.md\";\n\n  console.error(msg);\n  return null;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {toSVG} from 'transformation-matrix';\n\n//events\nimport eventFactory from './events/event-factory';\n\n//features\nimport {pan} from './features/pan';\nimport {getDefaultValue, setViewerSize, setSVGSize, setPointOnViewerCenter, reset} from './features/common';\nimport {\n  onMouseDown,\n  onMouseMove,\n  onMouseUp,\n  onWheel,\n  onMouseEnterOrLeave,\n  onInterval,\n  onDoubleClick\n} from './features/interactions';\nimport {\n  onTouchStart,\n  onTouchMove,\n  onTouchEnd,\n  onTouchCancel\n}from './features/interactions-touch';\n\nimport {zoom, fitSelection, fitToViewer, zoomOnViewerCenter} from './features/zoom';\nimport {openMiniature, closeMiniature} from './features/miniature';\n\n//ui\nimport cursorPolyfill from './ui/cursor-polyfill';\nimport BorderGradient from './ui/border-gradient';\nimport Selection from './ui/selection';\nimport Toolbar from './ui-toolbar/toolbar';\nimport detectTouch from './ui/detect-touch';\nimport Miniature from './ui-miniature/miniature'\n\nimport {\n  TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  MODE_IDLE, MODE_PANNING, MODE_ZOOMING,\n  POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT\n} from './constants';\n\nexport default class ReactSVGPanZoom extends React.Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    let {tool, value, width: viewerWidth, height: viewerHeight, children} = this.props;\n    let {width: SVGWidth, height: SVGHeight} = children.props;\n\n    this.state = {\n      value: value ? value : getDefaultValue(viewerWidth, viewerHeight, SVGWidth, SVGHeight),\n      tool: tool ? tool : TOOL_NONE\n    };\n    this.ViewerDOM = null;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let value = this.getValue();\n    let needUpdate = false;\n    let nextValue = value;\n\n    if (value.viewerWidth !== nextProps.width || value.viewerHeight !== nextProps.height) {\n      nextValue = setViewerSize(nextValue, nextProps.width, nextProps.height);\n      needUpdate = true;\n    }\n\n    let {width: SVGWidth, height: SVGHeight} = nextProps.children.props;\n    if (value.SVGWidth !== SVGWidth || value.SVGHeight !== SVGHeight) {\n      nextValue = setSVGSize(nextValue, SVGWidth, SVGHeight);\n      needUpdate = true;\n    }\n\n    if (needUpdate) {\n      this.setValue(nextValue);\n    }\n  }\n\n\n  getValue() {\n    return this.props.value ? this.props.value : this.state.value;\n  }\n\n  getTool() {\n    return this.props.tool ? this.props.tool : this.state.tool;\n  }\n\n  getSvgStyle(cursor) {\n    const style = {display: 'block'};\n\n    if (cursor) {\n      style.cursor = cursor;\n    }\n\n    if (this.props.detectPinchGesture || [TOOL_PAN, TOOL_AUTO].indexOf(this.getTool()) !== -1) {\n      style.touchAction = 'none';\n    }\n\n    return style;\n  }\n\n  setValue(nextValue) {\n    this.setState({value: nextValue});\n    if (this.props.onChangeValue) this.props.onChangeValue(nextValue);\n  }\n\n  pan(SVGDeltaX, SVGDeltaY) {\n    let nextValue = pan(this.getValue(), SVGDeltaX, SVGDeltaY);\n    this.setValue(nextValue);\n  }\n\n  zoom(SVGPointX, SVGPointY, scaleFactor) {\n    let nextValue = zoom(this.getValue(), SVGPointX, SVGPointY, scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n    let nextValue = fitSelection(this.getValue(), selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight);\n    this.setValue(nextValue);\n  }\n\n  fitToViewer() {\n    let nextValue = fitToViewer(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  zoomOnViewerCenter(scaleFactor) {\n    let nextValue = zoomOnViewerCenter(this.getValue(), scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n    let nextValue = setPointOnViewerCenter(this.getValue(), SVGPointX, SVGPointY, zoomLevel);\n    this.setValue(nextValue);\n  }\n\n  reset() {\n    let nextValue = reset(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  changeTool(tool) {\n    this.setState({tool});\n    if (this.props.onChangeTool) this.props.onChangeTool(tool);\n  }\n\n  openMiniature() {\n    let nextValue = openMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  closeMiniature() {\n    let nextValue = closeMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  handleViewerEvent(event) {\n    let {props, state: {value}, ViewerDOM} = this;\n\n    if (!([TOOL_NONE, TOOL_AUTO].indexOf(this.getTool()) >= 0)) return;\n    if (event.target === ViewerDOM) return;\n\n    let eventsHandler = {\n      click: props.onClick,\n      dblclick: props.onDoubleClick,\n\n      mousemove: props.onMouseMove,\n      mouseup: props.onMouseUp,\n      mousedown: props.onMouseDown,\n\n      touchstart: props.onTouchStart,\n      touchmove: props.onTouchMove,\n      touchend: props.onTouchEnd,\n      touchcancel: props.onTouchCancel,\n    };\n\n    let onEventHandler = eventsHandler[event.type];\n    if (!onEventHandler) return;\n\n    onEventHandler(eventFactory(event, value, ViewerDOM));\n  }\n\n\n  componentDidMount() {\n    let {props, state} = this;\n    if (props.onChangeValue) props.onChangeValue(state.value);\n\n    this.autoPanTimer = setInterval(() => {\n      let coords = {x: this.state.viewerX, y: this.state.viewerY};\n      let nextValue = onInterval(null, this.ViewerDOM, this.getTool(), this.getValue(), this.props, coords);\n\n      if (this.getValue() !== nextValue) {\n        this.setValue(nextValue);\n      }\n    }, 200);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.autoPanTimer);\n  }\n\n  render() {\n    let {props, state: {viewerX, viewerY}} = this;\n    let tool = this.getTool();\n    let value = this.getValue();\n    let {customToolbar: CustomToolbar, customMiniature: CustomMiniature} = props;\n\n    let panningWithToolAuto = tool === TOOL_AUTO\n      && value.mode === MODE_PANNING\n      && value.startX !== value.endX\n      && value.startY !== value.endY;\n\n    let cursor;\n\n    if (tool === TOOL_PAN)\n      cursor = cursorPolyfill(value.mode === MODE_PANNING ? 'grabbing' : 'grab');\n\n    if (tool === TOOL_ZOOM_IN)\n      cursor = cursorPolyfill('zoom-in');\n\n    if (tool === TOOL_ZOOM_OUT)\n      cursor = cursorPolyfill('zoom-out');\n\n    if (panningWithToolAuto)\n      cursor = cursorPolyfill('grabbing');\n\n    let blockChildEvents = [TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT].indexOf(tool) >= 0;\n    blockChildEvents = blockChildEvents || panningWithToolAuto;\n\n    return (\n      <div\n        style={{position: \"relative\", width: value.viewerWidth, height: value.viewerHeight, ...props.style}}\n        className={this.props.className}>\n        <svg\n          ref={ViewerDOM => this.ViewerDOM = ViewerDOM}\n          width={value.viewerWidth}\n          height={value.viewerHeight}\n          style={this.getSvgStyle(cursor)}\n\n          onMouseDown={ event => {\n            let nextValue = onMouseDown(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onMouseMove={ event => {\n            let {left, top} = this.ViewerDOM.getBoundingClientRect();\n            let x = event.clientX - Math.round(left);\n            let y = event.clientY - Math.round(top);\n\n            let nextValue = onMouseMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props, {x, y});\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.setState({viewerX: x, viewerY: y});\n            this.handleViewerEvent(event);\n          }}\n          onMouseUp={ event => {\n            let nextValue = onMouseUp(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onClick={event => {\n            this.handleViewerEvent(event)\n          }}\n          onDoubleClick={ event => {\n            let nextValue = onDoubleClick(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onWheel={ event => {\n            let nextValue = onWheel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n\n          onMouseEnter={ event => {\n            if (detectTouch()) return;\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n          onMouseLeave={ event => {\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n\n          onTouchStart={ event => {\n            let nextValue = onTouchStart(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchMove={ event => {\n            let nextValue = onTouchMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchEnd={ event => {\n            let nextValue = onTouchEnd(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchCancel={ event => {\n            let nextValue = onTouchCancel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}>\n\n          <rect\n            fill={props.background}\n            x={0}\n            y={0}\n            width={value.viewerWidth}\n            height={value.viewerHeight}\n            style={{pointerEvents: \"none\"}}\n          />\n\n          <g\n            transform={toSVG(value)}\n            style={blockChildEvents ? {pointerEvents: \"none\"} : {}}>\n            <rect\n              fill={this.props.SVGBackground}\n              x={0}\n              y={0}\n              width={value.SVGWidth}\n              height={value.SVGHeight}/>\n            <g>\n              {props.children.props.children}\n            </g>\n          </g>\n\n          {!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0 && props.detectAutoPan && value.focus) ? null : (\n            <g style={{pointerEvents: \"none\"}}>\n              {!(viewerY <= 20) ? null :\n                <BorderGradient direction={POSITION_TOP} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerWidth - viewerX <= 20) ? null :\n                <BorderGradient direction={POSITION_RIGHT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!( value.viewerHeight - viewerY <= 20) ? null :\n                <BorderGradient direction={POSITION_BOTTOM} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!( value.focus && viewerX <= 20) ? null :\n                <BorderGradient direction={POSITION_LEFT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n            </g>\n          )}\n\n          {!(value.mode === MODE_ZOOMING) ? null :\n            <Selection startX={value.startX} startY={value.startY} endX={value.endX} endY={value.endY}/>\n          }\n        </svg>\n\n        {props.toolbarPosition === POSITION_NONE ? null :\n          <CustomToolbar\n            position={props.toolbarPosition}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            tool={tool}\n            onChangeTool={tool => this.changeTool(tool)}/> }\n\n        {props.miniaturePosition === POSITION_NONE ? null :\n          <CustomMiniature\n            position={props.miniaturePosition}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            SVGBackground={this.props.SVGBackground}\n            background={this.props.miniatureBackground}\n            width={this.props.miniatureWidth}\n            height={this.props.miniatureHeight}\n          >\n            {props.children.props.children}\n          </CustomMiniature>\n        }\n      </div>\n    );\n  }\n}\n\nReactSVGPanZoom.propTypes = {\n  //width of the viewer displayed on screen\n  width: PropTypes.number.isRequired,\n\n  //height of the viewer displayed on screen\n  height: PropTypes.number.isRequired,\n\n  //background of the viewer\n  background: PropTypes.string,\n\n  //background of the svg\n  SVGBackground: PropTypes.string,\n\n  //value of the viewer (current point of view)\n  value: PropTypes.shape({\n    version: PropTypes.oneOf([2]).isRequired,\n    mode: PropTypes.oneOf([MODE_IDLE, MODE_PANNING, MODE_ZOOMING]).isRequired,\n    focus: PropTypes.bool.isRequired,\n    a: PropTypes.number.isRequired,\n    b: PropTypes.number.isRequired,\n    c: PropTypes.number.isRequired,\n    d: PropTypes.number.isRequired,\n    e: PropTypes.number.isRequired,\n    f: PropTypes.number.isRequired,\n    viewerWidth: PropTypes.number.isRequired,\n    viewerHeight: PropTypes.number.isRequired,\n    SVGWidth: PropTypes.number.isRequired,\n    SVGHeight: PropTypes.number.isRequired,\n    startX: PropTypes.number,\n    startY: PropTypes.number,\n    endX: PropTypes.number,\n    endY: PropTypes.number,\n    miniatureOpen: PropTypes.bool.isRequired,\n  }),\n\n  //CSS style of the Viewer\n  style: PropTypes.object,\n\n  //className of the Viewer\n  className: PropTypes.string,\n\n  //perform zoom operation on mouse scroll\n  detectWheel: PropTypes.bool,\n\n  //perform PAN if the mouse is on viewer border\n  detectAutoPan: PropTypes.bool,\n\n  //perform zoom operation on pinch gesture\n  detectPinchGesture: PropTypes.bool,\n\n  //toolbar position\n  toolbarPosition: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n\n  //handler something changed\n  onChangeValue: PropTypes.func,\n\n  //handler tool changed\n  onChangeTool: PropTypes.func,\n\n  //handler click\n  onClick: PropTypes.func,\n\n  //handler double click\n  onDoubleClick: PropTypes.func,\n\n  //handler mouseup\n  onMouseUp: PropTypes.func,\n\n  //handler mousemove\n  onMouseMove: PropTypes.func,\n\n  //handler mousedown\n  onMouseDown: PropTypes.func,\n\n  //if disabled the user can move the image outside the viewer\n  preventPanOutside: PropTypes.bool,\n\n  //how much scale in or out\n  scaleFactor: PropTypes.number,\n\n  //current active tool (TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT)\n  tool: PropTypes.oneOf([TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT]),\n\n  //modifier keys //https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState\n  modifierKeys: PropTypes.array,\n\n  //override toolbar component\n  customToolbar: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  //miniature position\n  miniaturePosition: PropTypes.oneOf([POSITION_NONE, POSITION_RIGHT, POSITION_LEFT]),\n\n  //miniature height\n  miniatureBackground: PropTypes.string,\n\n  //miniature width\n  miniatureWidth: PropTypes.number,\n\n  //miniature height\n  miniatureHeight: PropTypes.number,\n\n  //override miniature component\n  customMiniature: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  //Turn off zoom on double click\n  disableDoubleClickZoomWithToolAuto: PropTypes.bool,\n\n  //accept only one node SVG\n  children: function (props, propName, componentName) {\n    // Only accept a single child, of the appropriate type\n    //credits: http://www.mattzabriskie.com/blog/react-validating-children\n    let prop = props[propName];\n    let types = ['svg'];\n    if (React.Children.count(prop) !== 1 ||\n      types.indexOf(prop.type) === -1) {\n      return new Error(\n        '`' + componentName + '` ' +\n        'should have a single child of the following types: ' +\n        ' `' + types.join('`, `') + '`.'\n      );\n    }\n    if (!prop.props.hasOwnProperty('width') || !prop.props.hasOwnProperty('height')) {\n      return new Error('SVG should have props `width` and `height`');\n    }\n\n  }\n};\n\nReactSVGPanZoom.defaultProps = {\n  value: null,\n  tool: null,\n  style: {},\n  background: \"#616264\",\n  SVGBackground: \"#fff\",\n  detectWheel: true,\n  detectAutoPan: true,\n  detectPinchGesture: true,\n  toolbarPosition: POSITION_RIGHT,\n  modifierKeys: [\"Alt\", \"Shift\", \"Control\"],\n  customToolbar: Toolbar,\n  preventPanOutside: true,\n  scaleFactor: 1.1,\n  miniaturePosition: POSITION_LEFT,\n  miniatureWidth: 100,\n  miniatureHeight: 80,\n  miniatureBackground: \"#616264\",\n  customMiniature: Miniature,\n  disableZoomWithToolAuto: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/viewer.js","import ViewerMouseEvent from './viewer-mouse-event';\nimport ViewerTouchEvent from './viewer-touch-event';\n\nexport default function (originalEvent, value, SVGViewer) {\n\n  let eventType = originalEvent.type;\n\n  switch (eventType) {\n    case \"mousemove\":\n    case \"mouseup\":\n    case \"mousedown\":\n    case \"click\":\n    case \"dblclick\":\n      return new ViewerMouseEvent(originalEvent, value, SVGViewer);\n\n    case \"touchstart\":\n    case \"touchmove\":\n    case \"touchend\":\n    case \"touchcancel\":\n      return new ViewerTouchEvent(originalEvent, value, SVGViewer);\n\n    default:\n      throw new Error(`${eventType} not supported`);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/events/event-factory.js","import {getSVGPoint} from '../features/common'\nimport ViewerEvent from './viewer-event';\n\nexport default class ViewerMouseEvent extends ViewerEvent{\n\n  get point() {\n    if (!this._cachePoint) {\n      let event = this.originalEvent, value = this.value, SVGViewer = this.SVGViewer;\n\n      let rect = SVGViewer.getBoundingClientRect();\n      let x = event.clientX - Math.round(rect.left);\n      let y = event.clientY - Math.round(rect.top);\n\n      this._cachePoint = getSVGPoint(value, x, y);\n    }\n    return this._cachePoint;\n  }\n\n  get x() {\n    return this.point.x;\n  }\n\n  get y() {\n    return this.point.y;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/events/viewer-mouse-event.js","import {getSVGPoint} from '../features/common'\nimport ViewerEvent from './viewer-event';\n\nexport default class ViewerTouchEvent extends ViewerEvent {\n  get points() {\n    if (!this._cachePoints)\n      this._cachePoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.touches, this.SVGViewer, this.value);\n\n    return this._cachePoints;\n  }\n\n  get changedPoints() {\n    if (!this._cacheChangedPoints)\n      this._cacheChangedPoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.changedTouches, this.SVGViewer, this.value);\n\n    return this._cacheChangedPoints;\n  }\n\n  static touchesToPoints(touches, SVGViewer, value) {\n    let points = [];\n    for (let i = 0; i < touches.length; i++) {\n      let touch = touches[i];\n\n      let rect = SVGViewer.getBoundingClientRect();\n      let x = touch.clientX - Math.round(rect.left);\n      let y = touch.clientY - Math.round(rect.top);\n\n      let point = getSVGPoint(value, x, y);\n\n      points.push({...point, identifier: touch.identifier});\n    }\n    return points;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/events/viewer-touch-event.js","export default function mapRange(value, low1, high1, low2, high2) {\n  return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/mapRange.js","import {transform, fromObject, translate, scale} from 'transformation-matrix';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_AUTO, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  MODE_IDLE, MODE_PANNING, MODE_ZOOMING\n} from '../constants';\nimport {resetMode, getSVGPoint, set} from './common';\nimport {onMouseDown, onMouseMove, onMouseUp} from './interactions';\n\nfunction hasPinchPointDistance(value) {\n  return typeof value.pinchPointDistance === 'number';\n}\n\nfunction onMultiTouch(event, ViewerDOM, tool, value, props) {\n  const {left, top} = ViewerDOM.getBoundingClientRect();\n  const x1 = event.touches[0].clientX - Math.round(left);\n  const y1 = event.touches[0].clientY - Math.round(top);\n  const x2 = event.touches[1].clientX - Math.round(left);\n  const y2 = event.touches[1].clientY - Math.round(top);\n  const pinchPointDistance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n  const previousPointDistance = hasPinchPointDistance(value) ? value.pinchPointDistance : pinchPointDistance;\n  const svgPoint = getSVGPoint(value, (x1 + x2) / 2, (y1 + y2) / 2);\n  const distanceFactor = pinchPointDistance/previousPointDistance;\n\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n\n  let matrix = transform(\n    fromObject(value),\n    translate(svgPoint.x, svgPoint.y),\n    scale(distanceFactor, distanceFactor),\n    translate(-svgPoint.x, -svgPoint.y)\n  );\n\n  return set(value, set({\n    mode: MODE_ZOOMING,\n    ...matrix,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    prePinchMode: value.prePinchMode ? value.prePinchMode : value.mode,\n    pinchPointDistance\n  }));\n}\n\nfunction isMultiTouch(event, props) {\n  return props.detectPinchGesture && event.touches.length > 1;\n}\n\nfunction shouldResetPinchPointDistance(event, value, props) {\n  return props.detectPinchGesture && hasPinchPointDistance(value) && event.touches.length < 2;\n}\n\nfunction getTouchPosition(touch, ViewerDOM) {\n  let {left, top} = ViewerDOM.getBoundingClientRect();\n  let x = touch.clientX - Math.round(left);\n  let y = touch.clientY - Math.round(top);\n\n  return { x, y };\n}\n\nfunction getNextValue(event, ViewerDOM, tool, value, props, nextValueFn) {\n  let nextValue = event.touches.length === 0 ? set(value, { mode: value.prePinchMode ? MODE_IDLE : value.mode, prePinchMode: null }) : value;\n  let touch = event.touches.length > 0 ? event.touches[0] : event.changedTouches[0];\n  let touchPosition = getTouchPosition(touch, ViewerDOM);\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n    case TOOL_ZOOM_IN:\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      event.stopPropagation();\n      event.preventDefault();\n      return nextValueFn(event, ViewerDOM, tool, nextValue, props, touchPosition);\n\n    default:\n      return nextValue;\n  }\n}\n\nexport function onTouchStart(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (event.touches.length !== 1) {\n    if ([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0){\n      return resetMode(value);\n    } else if([MODE_IDLE].indexOf(value.mode) >= 0){\n      return value;\n    }\n  }\n\n  return getNextValue(event, ViewerDOM, tool, value, props, onMouseDown);\n}\n\nexport function onTouchMove(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  return getNextValue(event, ViewerDOM, tool, value, props, onMouseMove);\n}\n\nexport function onTouchEnd(event, ViewerDOM, tool, value, props) {\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  let nextValue = shouldResetPinchPointDistance(event, value, props) ? set(value, { pinchPointDistance: null }) : value;\n\n  if (event.touches.length > 0) {\n    return nextValue;\n  }\n\n  return getNextValue(event, ViewerDOM, tool, nextValue, props, onMouseUp);\n}\n\nexport function onTouchCancel(event, ViewerDOM, tool, value, props) {\n  event.stopPropagation();\n  event.preventDefault();\n\n  return resetMode(value);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/features/interactions-touch.js","//specs: https://developer.mozilla.org/en-US/docs/Web/CSS/cursor\n\nlet needPrefix = (cursor) => ['zoom-in', 'zoom-out', 'grab', 'grabbing'].indexOf(cursor) > -1;\nlet userAgent = () => navigator.userAgent.toLowerCase();\nlet isFirefox = () => userAgent().indexOf('firefox') > -1;\nlet isWebkit = () => userAgent().indexOf('webkit') > -1;\n\nexport default function (cursor) {\n  if (!needPrefix(cursor)) return cursor;\n  if (isFirefox()) return `-moz-${cursor}`;\n  if (isWebkit()) return `-webkit-${cursor}`;\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/cursor-polyfill.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT} from '../constants';\n\nexport default function BorderGradient({direction, width, height}) {\n\n  let transform;\n\n  switch (direction) {\n    case POSITION_TOP:\n      transform = `translate(${width}, 0) rotate(90)`;\n      break;\n\n    case POSITION_RIGHT:\n      transform = `translate(${width}, ${height}) rotate(180)`;\n      break;\n\n    case POSITION_BOTTOM:\n      transform = `translate(0, ${height}) rotate(270)`;\n      break;\n\n    case POSITION_LEFT:\n      transform = \" \";\n      break;\n  }\n\n  return (\n    <g>\n      <defs>\n        <linearGradient id=\"react-svg-pan-zoom-gradient1\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\" spreadMethod=\"pad\">\n          <stop offset=\"0%\" stopColor=\"#fff\" stopOpacity=\"0.8\"/>\n          <stop offset=\"100%\" stopColor=\"#000\" stopOpacity=\"0.5\"/>\n        </linearGradient>\n\n        <mask id=\"react-svg-pan-zoom-mask1\" x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}>\n          <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n                style={{stroke: \"none\", fill: \"url(#react-svg-pan-zoom-gradient1)\"}}/>\n        </mask>\n      </defs>\n\n      <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n            style={{stroke: \"none\", fill: \"#000\", mask: \"url(#react-svg-pan-zoom-mask1)\"}} transform={transform}/>\n    </g>\n  );\n}\n\nBorderGradient.propTypes = {\n  direction: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/border-gradient.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport calculateBox from '../utils/calculateBox';\n\nexport default function Selection({startX, startY, endX, endY}) {\n  if (!startX || !startY || !endX || !endY) return null;\n\n  let box = calculateBox({x: startX, y: startY}, {x: endX, y: endY});\n\n  return (<rect\n    stroke=\"#969FFF\"\n    strokeOpacity={0.7}\n    fill=\"#F3F4FF\"\n    fillOpacity={0.7}\n    x={box.x}\n    y={box.y}\n    width={box.width}\n    height={box.height}\n    style={{pointerEvents: \"none\"}}/>);\n}\n\nSelection.propTypes = {\n  startX: PropTypes.number.isRequired,\n  startY: PropTypes.number.isRequired,\n  endX: PropTypes.number.isRequired,\n  endY: PropTypes.number.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/selection.jsx","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconCursor() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M10.07,14.27C10.57,14.03 11.16,14.25 11.4,14.75L13.7,19.74L15.5,18.89L13.19,13.91C12.95,13.41 13.17,12.81 13.67,12.58L13.95,12.5L16.25,12.05L8,5.12V15.9L9.82,14.43L10.07,14.27M13.64,21.97C13.14,22.21 12.54,22 12.31,21.5L10.13,16.76L7.62,18.78C7.45,18.92 7.24,19 7,19A1,1 0 0,1 6,18V3A1,1 0 0,1 7,2C7.24,2 7.47,2.09 7.64,2.23L7.65,2.22L19.14,11.86C19.57,12.22 19.62,12.85 19.27,13.27C19.12,13.45 18.91,13.57 18.7,13.61L15.54,14.23L17.74,18.96C18,19.46 17.76,20.05 17.26,20.28L13.64,21.97Z\"/>\n    </svg>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui-toolbar/icon-cursor.jsx","import React from 'react';\n\n//https://materialdesignicons.com/icon/cursor-move\n\nexport default function IconPan() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\"/>\n    </svg>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui-toolbar/icon-pan.jsx","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_in\n\nexport default function IconZoomIn() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g>\n        <path\n          d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n        <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"/>\n      </g>\n    </svg>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui-toolbar/icon-zoom-in.jsx","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_out\n\nexport default function IconZoomOut() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"/>\n    </svg>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui-toolbar/icon-zoom-out.jsx","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconFit() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"/>\n    </svg>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui-toolbar/icon-fit.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  POSITION_TOP, POSITION_BOTTOM\n} from '../constants';\n\nexport default class ToolbarButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {hover: false};\n  }\n\n  change(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.type) {\n      case 'mouseenter':\n      case 'touchstart':\n        this.setState({hover: true});\n        break;\n      case 'mouseleave':\n      case 'touchend':\n      case 'touchcancel':\n        this.setState({hover: false});\n        break;\n    }\n  }\n\n  render() {\n    let style = {\n      display: \"block\",\n      width: \"24px\",\n      height: \"24px\",\n      margin: [POSITION_TOP, POSITION_BOTTOM].indexOf(this.props.toolbarPosition) >= 0 ? \"2px 1px\" : \"1px 2px\",\n      color: this.props.active || this.state.hover ? '#1CA6FC' : '#FFF',\n      transition: \"color 200ms ease\",\n      background: \"none\",\n      padding: \"0px\",\n      border: \"0px\",\n      outline: \"0px\",\n      cursor: \"pointer\"\n    };\n\n    return (\n      <button\n        onMouseEnter={e => this.change(e)}\n        onMouseLeave={e => this.change(e)}\n\n        onTouchStart={e => {\n          this.change(e);\n          this.props.onClick(e);\n        }}\n        onTouchEnd={e => this.change(e)}\n        onTouchCancel={e => this.change(e)}\n\n        onClick={this.props.onClick}\n\n        style={style}\n        title={this.props.title}\n        name={this.props.name}\n        role=\"button\"\n\n      >{this.props.children}</button>\n    )\n  }\n\n}\n\nToolbarButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  toolbarPosition: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  active: PropTypes.bool.isRequired\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui-toolbar/toolbar-button.jsx","//http://stackoverflow.com/a/4819886/1398836\n\nexport default function isTouchDevice() {\n  return 'ontouchstart' in window        // works on most browsers\n    || navigator.maxTouchPoints;       // works on IE10/11 and Surface\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/detect-touch.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {openMiniature, closeMiniature} from '../features/miniature';\nimport IconArrow from './icon-arrow';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\nexport default function MiniatureToggleButton({value, onChangeValue, position}) {\n  let style = {\n    width: \"24px\",\n    height: \"24px\",\n    display: \"block\",\n    position: \"absolute\",\n    bottom: 0,\n    [position === POSITION_LEFT ? 'left' : 'right']: '0px',\n    background: \"rgba(19, 20, 22, 0.901961)\",\n    border: 0,\n    padding: 0,\n    outline: 0,\n    color: \"#fff\"\n  };\n\n  let action = value.miniatureOpen ? closeMiniature : openMiniature;\n\n  return (\n    <button role=\"button\" style={style} onClick={event => onChangeValue(action(value))}>\n      <IconArrow open={value.miniatureOpen} position={position}/>\n    </button>\n  )\n\n}\n\nMiniatureToggleButton.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui-miniature/miniature-toggle-button.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\n//credits https://materialdesignicons.com/icon/chevron-up\n\nexport default function IconArrow({open, position}) {\n\n  let transform = 0;\n\n  switch (position){\n    case POSITION_LEFT:\n      transform = open ? \"rotate(225, 12, 13)\" : \"rotate(45, 12, 13)\";\n      break;\n\n    case POSITION_RIGHT:\n      transform = transform = open ? \"rotate(135, 12, 13)\" : \"rotate(-45, 12, 13)\";\n  }\n\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g transform={transform}>\n        <path fill=\"#000000\" d=\"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\"/>\n      </g>\n    </svg>\n  );\n}\n\nIconArrow.propTypes = {\n  open: PropTypes.bool.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui-miniature/icon-arrow.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function MiniatureMask({SVGWidth, SVGHeight, x1, y1, x2, y2, zoomToFit}) {\n  return (\n    <g>\n      <defs>\n        <mask id=\"react-svg-pan-zoom-miniature-mask\">\n          <rect x=\"0\" y=\"0\" width={SVGWidth} height={SVGHeight} fill=\"#ffffff\"/>\n          <rect x={x1} y={y1} width={x2 - x1} height={y2 - y1}/>\n        </mask>\n      </defs>\n\n      <rect x=\"0\"\n            y=\"0\"\n            width={SVGWidth}\n            height={SVGHeight}\n            style={{\n              stroke: \"none\",\n              fill: \"#000\",\n              mask: \"url(#react-svg-pan-zoom-miniature-mask)\",\n              opacity: 0.4\n            }}\n      />\n\n    </g>)\n}\n\nMiniatureMask.propTypes = {\n  SVGWidth: PropTypes.number.isRequired,\n  SVGHeight: PropTypes.number.isRequired,\n  x1: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired,\n  x2: PropTypes.number.isRequired,\n  y2: PropTypes.number.isRequired,\n  zoomToFit: PropTypes.number.isRequired,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui-miniature/miniature-mask.jsx"],"sourceRoot":""}